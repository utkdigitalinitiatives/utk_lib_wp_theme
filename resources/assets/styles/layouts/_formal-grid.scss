.facetwp-template--articles,
.utk-space--related--items {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: flex-start;
  position: relative;

  article {
    display: block;
    width: calc((100% - 116px) / 5);
    margin-right: $golden-ratio-4;

    &.flex-populate {
      width: 100%;
    }

    .article--close {
      display: flex;
      align-content: center;
      align-items: center;
      text-align: center;
      justify-content: center;
      background-color: $torch;
      border-radius: $golden-ratio-4;
      width: $golden-ratio-4;
      height: $golden-ratio-4;
      color: $white;
      box-shadow: none;
      transition: $transition-all-fast;
      position: absolute;
      opacity: 0;
      z-index: 3;
      left: 50%;
      margin-left: -23.5px;
      margin-top: -47px;
    }

    .article--link {
      width: 100%;
      height: 100%;
      position: relative;

      .article--grid--image {
        display: block;
        width: 100%;
        padding-top: $gr-percent;
        background-color: $smokey;
        position: relative;
        overflow: hidden;
        box-shadow: none;
        transform: scale3d(1, 1, 1);
        transition: $transition-all-fast;

        .utk-lazyload {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
        }

        img {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          z-index: 1;
          transition: $transition-all-fast;
          transform-origin: center;
          filter: brightness(1) saturate(1) contrast(1);
        }

        &--overlay {
          position: absolute;
          z-index: 1;
          bottom: 0;
          height: 76px;
          font-size: $type-1;
          width: 100%;
          color: $gray-1;
          font-style: italic;
          -webkit-font-smoothing: antialiased;
          display: block;

          @include filter-gradient(rgba($smokeyx, 0), 0%, rgba($smokeyx, 0.85), calc(100% - 18px));
        }

        &-border {
          background-color: $gray-1;
          box-shadow: none !important;
          transform: scale3d(1, 1, 1) !important;
          filter: brightness(1);

          &:hover,
          &:focus {
            filter: brightness(0.9);
          }
        }

        figure {
          margin: 0;

          h2,
          span {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            text-align: center;
            display: flex;
            align-items: center;
            align-content: center;
            justify-content: center;
            -webkit-font-smoothing: antialiased;
            color: $white;
            letter-spacing: 0 !important;
            font-size: $type-3;
            font-weight: 400;
            line-height: 1.29em;
            margin: 0;
            padding: 0 $golden-ratio-2;
          }
        }
      }

      .article--header {
        padding: 0 0 $golden-ratio-0;

        &--title {
          font-size: $type-2 !important;
          font-weight: 400;
          line-height: 1.29em !important;
          margin: $golden-ratio-1 0 0 !important;
          letter-spacing: -0.018em;
          color: unset;

          @include respond(xs) {
            font-size: $type-1 !important;
          }
        }

        .article--meta-categories {
          font-weight: 400;

          @include respond(xs) {
            font-size: $type-0 !important;
          }
        }
      }

      &:hover,
      &:focus {
        .article--grid--image {
          transform: scale(1.04, 1.04);
          box-shadow: $box-shadow-float;

          img {
            filter: brightness(1.06) saturate(1.06) contrast(1.11);
          }
        }
      }
    }

    &:nth-child(5n) {
      margin-right: 0;
    }

    @include respond(md, lg, xl) {
      width: calc((100% - 141px) / 4);

      &:nth-child(5n),
      &:nth-child(3n),
      &:nth-child(2n) {
        margin-right: $golden-ratio-4;
      }

      &:nth-child(4n) {
        margin-right: 0;
      }
    }

    @include respond(sm) {
      width: calc((100% - 58px) / 3);

      &:nth-child(5n),
      &:nth-child(4n),
      &:nth-child(2n) {
        margin-right: $golden-ratio-3;
      }

      &:nth-child(3n) {
        margin-right: 0;
      }
    }

    @include respond(xs) {
      width: calc((100% - 18px) / 2);

      &:nth-child(odd) {
        margin-right: $golden-ratio-2 !important;
      }

      &:nth-child(even) {
        margin-right: 0 !important;
      }
    }

    .article--populate {
      position: absolute;
      width: 100%;
      overflow: hidden;
      left: 0;
      margin-top: $golden-ratio-2;
      z-index: 1;
      transition: $transition-all;
      box-shadow: none;
    }
  }

  .article--trigger-expand {
    .article--close {
      box-shadow: $box-shadow-float;
      transform: scale3d(1, 1, 1);
      opacity: 1;
      margin-top: -29px;
    }

    .article--populate {
      box-shadow: $box-shadow;
    }
  }
}
